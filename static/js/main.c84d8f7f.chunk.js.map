{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/success.svg","images/error.svg","components/InfoToolTip.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","history","useHistory","className","src","logo","alt","to","onClick","localStorage","removeItem","push","CurrentUserContext","createContext","Card","onCardClick","onCardLike","onCardDelete","card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","likedUser","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","cards","avatar","about","map","Footer","api","params","this","baseUrl","headers","res","ok","json","Promise","reject","fetch","method","then","_checkResponse","body","JSON","stringify","cardId","authorization","PopupWithForm","props","onClose","isOpen","title","onSubmit","action","children","buttonText","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","id","placeholder","value","minLength","maxLength","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","defaultValue","AddPlacePopup","onAddCard","cardName","setCardName","setLink","ImagePopup","InfoToolTip","successIcon","Register","onRegisterUser","email","setEmail","password","setPassword","Login","ProtectedRoute","Component","component","authApi","Accept","data","user","setItem","jwt","token","Authorization","withRouter","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopuOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closePopups","closeAllPopups","classList","contains","renderUserInfo","renderCards","document","addEventListener","evt","key","Provider","path","deleteCard","cardList","filter","c","i","addLike","removeLike","newCard","newCards","AuthApi","registerUser","console","log","exact","setUserInfo","setUserAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.c84d8f7f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import logo from \"../images/logo.svg\";\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nfunction Header({loggedIn}) {\r\n  const history = useHistory();\r\n  function signOut() {\r\n    localStorage.removeItem('jwt');\r\n    history.push('/login');\r\n  }\r\n  return (\r\n    <>\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Around the US Logo\" />\r\n        <div className=\"header__info\">\r\n          { loggedIn ? <div className=\"header__text header__text_email\">ahnaf@mail.com</div> : '' }\r\n          <NavLink to=\"/login\" className=\"header__text header__text_log-in\">Log in</NavLink>\r\n          <NavLink to=\"/register\" className=\"header__text header__text_sign-up\">Sign up</NavLink>\r\n          { loggedIn ? <div onClick={signOut} className=\"header__text header__text_log-out\">Log out</div> : '' }\r\n        </div>\r\n        \r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import {createContext} from 'react';\r\n\r\nconst CurrentUserContext = createContext(null);\r\n\r\nexport default CurrentUserContext;","import { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ onCardClick, onCardLike, onCardDelete, card }) {\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(likedUser => likedUser._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `${isOwn ? 'elements__delete-icon' : 'elements__delete-icon_hidden'}`\r\n  ); \r\n\r\n  const cardLikeButtonClassName = (\r\n    `${isLiked ? 'elements__heart-icon_liked elements__heart-icon' : 'elements__heart-icon'}`\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <li className=\"elements__card\">\r\n        <img\r\n          onClick={handleClick}\r\n          src={card.link}\r\n          alt={card.name}\r\n          className=\"elements__image\"\r\n        />\r\n        <div className=\"elements__info\">\r\n          <h2 className=\"elements__title\">{card.name}</h2>\r\n          <div className=\"elements__likes\">\r\n            <button\r\n              type=\"button\"\r\n              className={cardLikeButtonClassName}\r\n              onClick={() => onCardLike(card)}\r\n              aria-label=\"Heart Button\"\r\n            ></button>\r\n            <span className=\"elements__like-counter\" >{card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className={cardDeleteButtonClassName}\r\n          onClick={() => onCardDelete(card)}\r\n          type=\"button\"\r\n          aria-label=\"Delete Button\"\r\n        ></button>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import Card from \"./Card\";\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  onEditAvatarClick,\r\n  onEditProfileClick,\r\n  onAddPlaceClick,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  cards\r\n})\r\n\r\n\r\n{\r\n  const currentUser = useContext(CurrentUserContext);\r\n  return (\r\n    <>\r\n      <main className=\"main\">\r\n        <section className=\"profile\">\r\n          <div className=\"profile__picture\" onClick={onEditAvatarClick}>\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Jacques Cousteau\"\r\n              className=\"profile__image\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              aria-label=\"Edit Button\"\r\n              onClick={onEditProfileClick}\r\n            ></button>\r\n            <p className=\"profile__tag\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__plus-button\"\r\n            aria-label=\"Plus Button\"\r\n            onClick={onAddPlaceClick}\r\n          ></button>\r\n        </section>\r\n        <section>\r\n          <ul className=\"elements\">\r\n            <>\r\n              {cards.map((card) => (\r\n                <Card key={card._id} card={card} onCardDelete={onCardDelete} onCardLike={onCardLike} onCardClick={onCardClick} />\r\n              ))}\r\n            </>\r\n          </ul>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <>\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__text\">Â© 2020 Around The U.S.</p>\r\n      </footer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","class Api {\r\n  constructor(params) {\r\n    this.baseUrl = params.baseUrl;\r\n    this.headers = params.headers;\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(\"Error\");\r\n  }\r\n\r\n  renderUserInfo() {\r\n    return fetch(this.baseUrl + \"/users/me\", {\r\n      headers: this.headers,\r\n      method: \"GET\",\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  renderCards() {\r\n    return fetch(this.baseUrl + \"/cards\", {\r\n      headers: this.headers,\r\n      method: \"GET\",\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  addCard({name, link}) {\r\n    return fetch(this.baseUrl + \"/cards\", {\r\n      headers: this.headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        name,\r\n        link\r\n      })\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  setUserInfo({name, about}) {\r\n    return fetch(this.baseUrl + \"/users/me/\", {\r\n      headers: this.headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\r\n      headers: this.headers,\r\n      method: \"PATCH\",\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\r\n      headers: this.headers,\r\n      method: \"PUT\"\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\r\n      headers: this.headers,\r\n      method: \"DELETE\"\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\r\n      headers: this.headers,\r\n      method: \"DELETE\"\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  \r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-13\",\r\n  headers: {\r\n    authorization: \"4bb4f649-ce49-4e5f-81c2-ac119aac9e7d\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <>\r\n      <div onClick={props.onClose} className={`popup popup_${props.name} ${props.isOpen ? 'popup_open' : ''}`}>\r\n        <div className=\"popup__container\">\r\n          <h3 className={`popup__title popup__title_${props.name}`}>\r\n            {props.title}\r\n          </h3>\r\n          <form\r\n            onSubmit={props.onSubmit}\r\n            action=\"POST\"\r\n            className={`popup__form popup__form_${props.name}`}\r\n            name={`${props.name}`}\r\n          >\r\n            {props.children}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"popup__btn\"\r\n              aria-label=\"Save Button\"\r\n            >\r\n              {props.buttonText}\r\n            </button>\r\n          </form>\r\n          <button\r\n            type=\"button\"\r\n            className=\"popup__close-btn\"\r\n            aria-label=\"Close Button\"\r\n            onClick={props.onClose}\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useEffect, useContext, useState } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e){\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen])\r\n  \r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        onSubmit={handleSubmit}\r\n        name=\"profile\"\r\n        title=\"Edit Profile\"\r\n        buttonText=\"Save\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n      >\r\n        <input\r\n          id=\"profile-title-input\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_value_name\"\r\n          placeholder=\"Name\"\r\n          value={name || \"\"}\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleNameChange}\r\n          required\r\n        />\r\n        <span\r\n          id=\"profile-title-input-error\"\r\n          className=\"popup__input-error\"\r\n        ></span>\r\n        <input\r\n          id=\"profile-about-input\"\r\n          name=\"about\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_value_about\"\r\n          placeholder=\"About Me\"\r\n          value={description || \"\"}\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleDescriptionChange}\r\n          required\r\n        />\r\n        <span\r\n          id=\"profile-about-input-error\"\r\n          className=\"popup__input-error\"\r\n        ></span>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar}) {\r\n\r\n  const avatarRef = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(avatarRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"avatar\"\r\n        title=\"Change Profile Picture\"\r\n        buttonText=\"Save\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          ref={avatarRef}\r\n          id=\"image-link-input\"\r\n          name=\"avatar\"\r\n          type=\"url\"\r\n          className=\"popup__input popup__input_profile_link\"\r\n          placeholder=\"url\"\r\n          defaultValue=\"\"\r\n          minLength=\"2\"\r\n          maxLength=\"250\"\r\n          required\r\n        />\r\n        <span\r\n          id=\"image-link-input-error\"\r\n          className=\"popup__input-error popup__input-error_profile-image\"\r\n        ></span>\r\n        <span\r\n          id=\"profile-about-input-error\"\r\n          className=\"popup__input-error\"\r\n        ></span>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { useState } from \"react/cjs/react.development\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard}) {\r\n  const [cardName, setCardName] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  function handleCardNameChange(e) {\r\n    setCardName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddCard({\r\n      name: cardName,\r\n      link: link\r\n    })\r\n    setCardName(\"\")\r\n    setLink(\"\")\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PopupWithForm\r\n        name=\"card\"\r\n        title=\"New Place\"\r\n        buttonText=\"Save\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          id=\"card-title-input\"\r\n          onChange={handleCardNameChange}\r\n          name=\"name\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_place_name\"\r\n          placeholder=\"Name\"\r\n          defaultValue={cardName}\r\n          minLength=\"2\"\r\n          maxLength=\"250\"\r\n          required\r\n        />\r\n        <span id=\"card-title-input-error\" className=\"popup__input-error\"></span>\r\n        <input\r\n          id=\"card-link-input\"\r\n          onChange={handleLinkChange}\r\n          name=\"link\"\r\n          type=\"url\"\r\n          className=\"popup__input popup__input_place_image-url\"\r\n          placeholder=\"Image URL\"\r\n          defaultValue={link}\r\n          minLength=\"2\"\r\n          maxLength=\"250\"\r\n          required\r\n        />\r\n        <span id=\"card-link-input-error\" className=\"popup__input-error\"></span>\r\n      </PopupWithForm>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","function ImagePopup({ card, onClose, isOpen }) {\r\n  return (\r\n    <>\r\n      <div\r\n        onClick={onClose}\r\n        className={`popup popup_image-expanded ${isOpen ? \"popup_open\" : \"\"}`}\r\n      >\r\n        <div className=\"image-expanded\">\r\n          <div className=\"image-expanded__container\">\r\n            <img\r\n              src={card ? card.link : \"#\"}\r\n              alt={card ? card.name : \"\"}\r\n              className=\"image-expanded__image\"\r\n            />\r\n            <h2 className=\"image-expanded__title\">{card ? card.name : \"\"}</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"popup__close-btn\"\r\n              type=\"button\"\r\n            ></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import successIcon from \"../images/success.svg\";\r\nimport errorIcon from \"../images/error.svg\";\r\n\r\nfunction InfoToolTip({ onClose }) {\r\n  return (\r\n    <>\r\n      <div className=\"popup popup__info-tool-tip\">\r\n        <div className=\"popup__container popup__info-tool-tip_container\">\r\n            <img className=\"popup__info-tool-tip_icon\" src={successIcon} alt=\"Success\" />\r\n            {/* <img className=\"popup__info-tool-tip_icon\" src={errorIcon} alt=\"Error\" /> */}\r\n            <p className=\"popup__info-tool-tip_message\">\r\n              Success! You have now been registered.\r\n            </p>\r\n            {/* <p className=\"popup__info-tool-tip_message\">\r\n              Oops, something went wrong! Please try again.\r\n            </p> */}\r\n            <button\r\n              onClick={onClose}\r\n              className=\"popup__close-btn\"\r\n              type=\"button\"\r\n            ></button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nfunction Register({ onRegisterUser }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegisterUser({\r\n      email: email,\r\n      password: password,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"authorization\">\r\n        <h1 className=\"authorization__title\">Register</h1>\r\n        <form\r\n          action=\"POST\"\r\n          onSubmit={handleSubmit}\r\n          name=\"register\"\r\n          className=\"authorization__form\"\r\n        >\r\n          <input\r\n            placeholder=\"Email\"\r\n            className=\"authorization__input\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={handleEmailChange}\r\n            required\r\n          />\r\n          <input\r\n            placeholder=\"Password\"\r\n            className=\"authorization__input\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            onChange={handlePasswordChange}\r\n            required\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"authorization__button authorization__button_sign-up\"\r\n          >\r\n            Sign UP\r\n          </button>\r\n        </form>\r\n        <p className=\"authorization__info\">\r\n          Already a member?{\" \"}\r\n          <NavLink to=\"/login\" className=\"authorization__link\">\r\n            Log in here!\r\n          </NavLink>\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n    return (\r\n        <>\r\n            <div className=\"authorization\">\r\n                <h1 className=\"authorization__title\">Log in</h1>\r\n                <form action=\"POST\" className=\"authorization__form\">\r\n                    <input placeholder=\"Email\" className=\"authorization__input\" type=\"email\" name=\"email\" minLength=\"2\" maxLength=\"200\" required/>\r\n                    <input placeholder=\"Password\" className=\"authorization__input\" type=\"password\" name=\"password\" minLength=\"2\" maxLength=\"200\" required/>\r\n                    <button type=\"submit\" className=\"authorization__button authorization__button_log-in\">Log in</button>\r\n                </form>\r\n                <p className=\"authorization__info\">Not a member yet? <NavLink to=\"/register\" className=\"authorization__link\">Sign up here!</NavLink></p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login;","import { Route, Redirect } from \"react-router\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","class authorizationApi {\r\n  constructor() {\r\n    this.baseUrl = \"https://register.nomoreparties.co/\";\r\n    this.headers = {\r\n      authorization: \"4bb4f649-ce49-4e5f-81c2-ac119aac9e7d\",\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(\"Error\");\r\n  }\r\n\r\n  registerUser({ email, password }) {\r\n    return fetch(this.baseUrl + \"/signup\", {\r\n      headers: this.headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    }).then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  authorizeUser({ email, password }) {\r\n    return fetch(this.baseUrl + \"/signin\", {\r\n      headers: this.headers,\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((data) => {\r\n        if (data.user) {\r\n          localStorage.setItem(\"jwt\", data.jwt);\r\n          return data;\r\n        }\r\n      })\r\n      .then((res) => this._checkResponse(res));\r\n  }\r\n\r\n  checkUserToken({ token }) {\r\n    return fetch(this.baseUrl + \"/users/me\", {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      method: \"GET\",\r\n    })\r\n    .then((res) => this._checkResponse(res))\r\n    .then(data => data);\r\n  }\r\n}\r\n\r\nconst authApi = new authorizationApi();\r\n\r\nexport default authApi;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport api from \"../utils/api\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport InfoToolTip from \"./InfoToolTip\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport AuthApi from \"../utils/auth\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isImagePopupOpen, setIsImagePopuOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState([]);\r\n  const [loggedIn, setLogIn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    api.renderUserInfo().then((data) => {\r\n      setCurrentUser(data);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.renderCards().then((data) => {\r\n      setCards(data);\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    let likeStatus =\r\n      isLiked === false ? api.addLike(card._id) : api.removeLike(card._id);\r\n\r\n    likeStatus.then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const cardList = cards.filter((c) => c._id !== card._id);\r\n      setCards(cardList);\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api.setUserInfo({ name, about }).then((data) => {\r\n      setCurrentUser(data);\r\n      closePopups();\r\n    });\r\n  }\r\n\r\n  function handleUserRegistration({ email, password }) {\r\n    AuthApi.registerUser({ email, password }).then((res) => {\r\n      if (res) {\r\n        this.history.push(\"/login\");\r\n      }else{\r\n        console.log(\"something went wrong\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api.setUserAvatar(avatar).then((data) => {\r\n      setCurrentUser(data);\r\n      closePopups();\r\n    });\r\n  }\r\n\r\n  function handleAddCard({ name, link }) {\r\n    api.addCard({ name, link }).then((data) => {\r\n      setCards([data, ...cards]);\r\n      closePopups();\r\n    });\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopuOpen(true);\r\n  }\r\n\r\n  function closePopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopuOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function closeAllPopups(e) {\r\n    if (\r\n      e.target.classList.contains(\"popup_open\") ||\r\n      e.target.classList.contains(\"popup__close-btn\")\r\n    ) {\r\n      closePopups();\r\n    }\r\n  }\r\n\r\n  function handleEscClose(evt) {\r\n    if (evt.key === \"Escape\") {\r\n      closePopups();\r\n    }\r\n  }\r\n\r\n  document.addEventListener(\"keyup\", handleEscClose);\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"body\">\r\n          <Header loggedIn={loggedIn} />\r\n          <div className=\"homepage\">\r\n            <Switch>\r\n              <ProtectedRoute\r\n                path=\"/home\"\r\n                cards={cards}\r\n                onCardDelete={handleCardDelete}\r\n                onCardLike={handleCardLike}\r\n                onCardClick={handleCardClick}\r\n                onEditProfileClick={handleEditProfileClick}\r\n                onEditAvatarClick={handleEditAvatarClick}\r\n                onAddPlaceClick={handleAddPlaceClick}\r\n                component={Main}\r\n                loggedIn={loggedIn}\r\n              />\r\n              <Route path=\"/register\">\r\n                <Register onRegisterUser={handleUserRegistration}/>\r\n              </Route>\r\n              <Route path=\"/login\">\r\n                <Login />\r\n              </Route>\r\n              <Route exact path=\"/\">\r\n                {loggedIn ? <Redirect to=\"/home\" /> : <Redirect to=\"/login\" />}\r\n              </Route>\r\n            </Switch>\r\n            {loggedIn ? <Footer /> : \"\"}\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddCard={handleAddCard}\r\n            />\r\n\r\n            <ImagePopup\r\n              card={selectedCard}\r\n              isOpen={isImagePopupOpen}\r\n              onClose={closeAllPopups}\r\n            />\r\n            <div className=\"hide\">\r\n              <InfoToolTip />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from '../src/components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}